
<div class="container-fluid d-flex flex-column 100-vh">
    <nav class="row navbar navbar-expand-lg navbar-light bg-light" #navbar (init)="enableTooltips(navbar)">
        <div class="navbar-brand mb-0 h1">Go Hoard Yourself</div>
        <div class="navbar-text" *ngIf="dragon.koboldsUnlocked" data-toggle="tooltip" title="Kobolds">
            <i class="fa fa-users"></i> {{dragon.kobolds}}
        </div>
        <div class="navbar-text" *ngIf="dragon.goldUnlocked" data-toggle="tooltip" title="Gold">
            <i class="fa fa-coins"></i> {{dragon.gold}}
        </div>
        <div class="navbar-text" *ngIf="dragon.scienceUnlocked" data-toggle="tooltip" title="Research Points">
            <i class="fa fa-flask"></i> {{dragon.sciencePoints}}
        </div>
        <div class="collapse navbar-collapse" id="resourcesBanner"></div>
        <settings [dragon]="dragon"></settings>
    </nav>

    <div class="row col">
        <div class="col w-25 p-0">
            <div class="card h-100">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs" role="tablist">
                        <li class="nav-item"><a
                            class="nav-link active"
                            id="tasks-tab"
                            data-toggle="tab"
                            href="#tasks"
                            role="tab"
                        >Tasks</a></li>
                        <li class="nav-item" *ngIf="dragon.goldUnlocked"><a
                            class="nav-link"
                            id="build-tab"
                            data-toggle="tab"
                            href="#build"
                            role="tab"
                        >Build</a></li>
                    </ul>
                </div>
                <div class="tab-content card-body">
                    <div class="tab-pane fade show active" id="tasks" role="tabpanel">
                        <tasks [dragon]="dragon"></tasks>
                    </div>
                    <div class="tab-pane fade" id="build" role="tabpanel">
                        <buildings [dragon]="dragon"></buildings>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col w-50 p-0">
            <div class="card h-50">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs" role="tablist">
                        <li class="nav-item"><a
                            class="nav-link active"
                            id="status-tab"
                            data-toggle="tab"
                            href="#status"
                            role="tab"
                        >Status</a></li>
                        <li class="nav-item"><a
                            class="nav-link"
                            id="log-tab"
                            data-toggle="tab"
                            href="#log"
                            role="tab"
                        >Log</a></li>
                    </ul>
                </div>
                <div class="tab-content card-body overflow-auto" #logPane (init)="enableScrollLock(logPane)">
                    <div class="tab-pane fade show active h-100" id="status" role="tabpanel">
                        <dragon-info [dragon]="dragon"></dragon-info>
                    </div>
                    <div class="tab-pane fade" id="log" role="tabpanel">
                        <log [dragon]="dragon"></log>
                    </div>
                </div>
            </div>
            <div class="h-50">
                <canvas class="w-100 h-100"></canvas>
            </div>
        </div>

        <div class="col w-25 p-0">
            <div class="card h-100" *ngIf="dragon.foodUnlocked">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs" role="tablist">
                        <li class="nav-item"><a
                            class="nav-link active"
                            id="food-tab"
                            data-toggle="tab"
                            href="#food"
                            role="tab"
                        >Food</a></li>
                        <li class="nav-item" *ngIf="dragon.scienceUnlocked"><a
                            class="nav-link"
                            id="upgrades-tab"
                            data-toggle="tab"
                            href="#upgrades"
                            role="tab"
                        >Research</a></li>
                    </ul>
                </div>
                <div class="tab-content card-body">
                    <div class="tab-pane fade show active" id="food" role="tabpanel">
                        <food [dragon]="dragon"></food>
                    </div>
                    <div class="tab-pane fade" id="upgrades" role="tabpanel">
                        <upgrades [dragon]="dragon"></upgrades>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<log-toasts [dragon]="dragon"></log-toasts>
<popup [dragon]="dragon"></popup>
<new-game [dragon]="dragon"></new-game>
