<button
    type="button"
    class="btn fa fa-cog p-0 dropdown-toggle"
    style="font-size: x-large;"
    id="settings-button"
    data-toggle="dropdown"
    aria-haspopup="true"
    aria-expanded="false"
></button>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="settings-button">
    <h6 class="dropdown-header">Version {{version}}</h6>
    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#dialogAbout">About...</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header">Actions</h6>
    <a class="dropdown-item" href="#" (click)="saveGame()">Save game</a>
    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#dialogLoad">Load game...</a>
    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#dialogExport">Export game...</a>
    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#dialogImport">Import game...</a>
    <a class="dropdown-item" href="#" data-toggle="modal" data-target="#dialogReset">Reset game...</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header">Settings</h6>
    <form class="dropdown-item form-group"><div class="form-check">
        <input
            type="checkbox"
            class="form-check-input"
            id="settingAutosave"
            [checked]="autosave"
            #autosaveElement
            (change)="autosave = autosaveElement.checked"
        >
        <label class="form-check-label" for="settingAutosave">Autosave</label>
    </div></form>
</div>

<div class="modal fade" id="dialogAbout" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">About</h5>
            <button type="button" class="close" data-dismiss="modal">
                <span>&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div>Go Hoard Yourself, version {{version}}.</div>
            <div>Made by <a href="https://twitter.com/thatgreydragon/">@thatgreydragon</a>.</div>
            <div>Available <a href="https://github.com/ThatGreyDragon/go_hoard_yourself">open-source on GitHub</a>.</div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
        </div>
        </div>
    </div>
</div>

<div class="modal fade" id="dialogLoad" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Load Game</h5>
            <button type="button" class="close" data-dismiss="modal">
                <span>&times;</span>
            </button>
        </div>
        <div class="modal-body">
            Are you sure you want to load your last saved game?
            This will erase all progress since your last save!
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="loadGame()">Load Game</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
        </div>
    </div>
</div>

<div class="modal fade" id="dialogExport" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Export Game</h5>
            <button type="button" class="close" data-dismiss="modal">
                <span>&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div>Here is your save's code:</div>
            <textarea class="w-100" disabled>{{exportGame}}</textarea>
            <div>
                Triple-click that box, copy the text, and save it to your computer.
                Later, paste the code into the corresponding import game dialog to retrieve your save.
            </div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">OK</button>
        </div>
        </div>
    </div>
</div>

<div class="modal fade" id="dialogImport" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Import Game</h5>
            <button type="button" class="close" data-dismiss="modal">
                <span>&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div>Paste the code for your savegame here:</div>
            <textarea class="w-100" #importGameTextarea></textarea>
            <div>Be careful: Unless autosave is disabled, this will overwirte your existing save!</div>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="importGame(importGameTextarea.value)">Import Game</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
        </div>
    </div>
</div>

<div class="modal fade" id="dialogReset" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Reset Game</h5>
            <button type="button" class="close" data-dismiss="modal">
                <span>&times;</span>
            </button>
        </div>
        <div class="modal-body">
            Are you sure you want to reset the game?
            This will erase ALL saved progress!
            (If you do not have autosave enabled, you can reload your existing game,
            but saving agaiun will permamently erase your previous progress.)
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="resetGame()">Reset Game</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
        </div>
    </div>
</div>